@model HaragApp.ViewModels.AdsImagesVm
@{
    ViewData["Title"] = "CreatePaidAdd";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
    <section class="login-section">
        <div class="auto-container">
            <div class="row clearfix">

                <div class="column col-lg-12 col-md-12 col-sm-12 ">
                    <!-- Login Form -->
                    <h2>تعديل اعلان ممول </h2>
                    <div class="login-form text-right">
                        <!--Login Form-->
                        <form asp-action="EditPaidAdd" method="post">
                            <div class="form-group">
                                <input type="hidden" asp-for="AdID">
                                <input type="hidden" asp-for="UserId">
                                <input class="form-control" asp-for="Title" placeholder="الاسم  ">
                            </div>

                            <div class="form-group">

                                <select class="form-control h-25" asp-items="@ViewBag.CityID as SelectList" asp-for="CityID">
                                    <option value="-1">اختر مدينه</option>
                                </select>

                            </div>
                            <div class="form-group">

                                <select class="form-control h-25" asp-items="@ViewBag.CategoryID as SelectList" asp-for="CategoryID">
                                    <option value="-1">اختر صنف</option>
                                </select>

                            </div>
                            <div class="form-group">

                                <textarea class="form-control" id="exampleFormControlTextarea1" placeholder="وصف" rows="3" type="text" asp-for="Description"></textarea>
                            </div>
                            <div class="form-group" style="display:none">
                                <input type="checkbox" id="vehicle1" asp-for="IsPaid" checked="checked">
                                <input type="checkbox" id="vehicle1" asp-for="IsPact" checked="checked">

                            </div>

                            <div class="row justify-content-center">
                                <div class="col-lg-2 col-md-6 col-sm-12">
                                    <label>الصورة الاولى</label>
                                    <input type="file"  id="files1" name="files" class="btn btn-block">
                                    <img id="SelectedImage1" src="@Model.ImageUrl1"  class="img-thumbnail align-content-center" style="width:100px;height:100px;" />
                                </div>

                                <div class="col-lg-2 col-md-6 col-sm-12">
                                    <label>الصورة الثانيه</label>
                                    <input type="file" id="files2" name="files"  class="btn btn-block">
                                    <img id="SelectedImage2" src="@Model.ImageUrl2" class="img-thumbnail align-content-center" style="width:100px;height:100px;" />
                                </div>
                                <div class="col-lg-2 col-md-6 col-sm-12">
                                    <label>الصورة الثالثه</label>
                                    <input type="file" id="files3" name="files"  class="btn btn-block">
                                    <img id="SelectedImage3" src="@Model.ImageUrl3" class="img-thumbnail align-content-center" style="width:100px;height:100px;" />
                                </div>
                                <div class="col-lg-2 col-md-6 col-sm-12">
                                    <label>الصورة الرابعه</label>
                                    <input type="file" id="files4" name="files"  class="btn btn-block">
                                    <img id="SelectedImage4" src="@Model.ImageUrl4" class="img-thumbnail align-content-center" style="width:100px;height:100px;" />
                                </div>
                                <div class="col-lg-2 col-md-6 col-sm-12">
                                    <label>الصورةالخامسه</label>
                                    <input type="file" id="files5" name="files"  class="btn btn-block">
                                    <img id="SelectedImage5" src="@Model.ImageUrl5" class="img-thumbnail align-content-center" style="width:100px;height:100px;" />
                                </div>
                            </div>


                            <br />
                            <br />
                            <br />

                            <div class="clearfix">
                                <div class="pull-right">
                                    <div class="form-group text-right">
                                        <button class="btn btn-primary" type="submit">تأكيد </button>
                                    </div>
                                </div>

                            </div>
                            <input id="ImageUrl1" name="ImageUrl1" value="@Model.ImageUrl1" type="hidden" />
                            <input id="ImageUrl2" name="ImageUrl2" value="@Model.ImageUrl2" type="hidden" />
                            <input id="ImageUrl3" name="ImageUrl3" value="@Model.ImageUrl3" type="hidden" />
                            <input id="ImageUrl4" name="ImageUrl4" value="@Model.ImageUrl4" type="hidden" />
                            <input id="ImageUrl5" name="ImageUrl5" value="@Model.ImageUrl5" type="hidden" />
                        </form>
                    </div>
                    <!--End Login Form -->
                </div>


            </div>
        </div>
    </section>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

    <script>
	 $("#files1").change(function () {
			  var element = this;

			  var formData = new FormData();

		 var totalFiles = element.files.length;

			  for (var i = 0; i < totalFiles; i++) {
				var file = element.files[i];
				formData.append("Photo", file);
			  }

				$.ajax({
					type: 'POST',
					url: '@Url.Action("UploadImage", "Advertisments")',
					dataType: 'json',
					data: formData,
					contentType: false,
					processData: false,
					success: function (response) {
						$("#ImageUrl1").val(response.image);
					   $("#SelectedImage1").attr("src", response.image);
					},
					error: function () {
						alert("FAIL");
					}
				})
				//.done(function (response) {

				//        alert(response.ImageURL)
				//       // $("#ImageUrl").val(response.ImageURL);
				//      //  $("#SelectedImage").attr("src", response.ImageURL);

				// })
				//.fail(function (XMLHttpRequest, textStatus, errorThrown) {
				//    	alert("FAIL");
				//});
	 });
	 $("#files2").change(function () {
			  var element = this;

			  var formData = new FormData();

		 var totalFiles = element.files.length;

			  for (var i = 0; i < totalFiles; i++) {
				var file = element.files[i];
				formData.append("Photo", file);
			  }

				$.ajax({
					type: 'POST',
					url: '@Url.Action("UploadImage", "Advertisments")',
					dataType: 'json',
					data: formData,
					contentType: false,
					processData: false,
					success: function (response) {
						$("#ImageUrl2").val(response.image);
					   $("#SelectedImage2").attr("src", response.image);
					},
					error: function () {
						alert("FAIL");
					}
				})
				//.done(function (response) {

				//        alert(response.ImageURL)
				//       // $("#ImageUrl").val(response.ImageURL);
				//      //  $("#SelectedImage").attr("src", response.ImageURL);

				// })
				//.fail(function (XMLHttpRequest, textStatus, errorThrown) {
				//    	alert("FAIL");
				//});
	 });
	 $("#files3").change(function () {
			  var element = this;

			  var formData = new FormData();

		 var totalFiles = element.files.length;

			  for (var i = 0; i < totalFiles; i++) {
				var file = element.files[i];
				formData.append("Photo", file);
			  }

				$.ajax({
					type: 'POST',
					url: '@Url.Action("UploadImage", "Advertisments")',
					dataType: 'json',
					data: formData,
					contentType: false,
					processData: false,
					success: function (response) {
						$("#ImageUrl3").val(response.image);
					   $("#SelectedImage3").attr("src", response.image);
					},
					error: function () {
						alert("FAIL");
					}
				})
				//.done(function (response) {

				//        alert(response.ImageURL)
				//       // $("#ImageUrl").val(response.ImageURL);
				//      //  $("#SelectedImage").attr("src", response.ImageURL);

				// })
				//.fail(function (XMLHttpRequest, textStatus, errorThrown) {
				//    	alert("FAIL");
				//});
	});
	 $("#files4").change(function () {
			  var element = this;

			  var formData = new FormData();

		 var totalFiles = element.files.length;

			  for (var i = 0; i < totalFiles; i++) {
				var file = element.files[i];
				formData.append("Photo", file);
			  }

				$.ajax({
					type: 'POST',
					url: '@Url.Action("UploadImage", "Advertisments")',
					dataType: 'json',
					data: formData,
					contentType: false,
					processData: false,
					success: function (response) {
						$("#ImageUrl4").val(response.image);
					   $("#SelectedImage4").attr("src", response.image);
					},
					error: function () {
						alert("FAIL");
					}
				})
				//.done(function (response) {

				//        alert(response.ImageURL)
				//       // $("#ImageUrl").val(response.ImageURL);
				//      //  $("#SelectedImage").attr("src", response.ImageURL);

				// })
				//.fail(function (XMLHttpRequest, textStatus, errorThrown) {
				//    	alert("FAIL");
				//});
	});
	 $("#files5").change(function () {
			  var element = this;

			  var formData = new FormData();

		 var totalFiles = element.files.length;

			  for (var i = 0; i < totalFiles; i++) {
				var file = element.files[i];
				formData.append("Photo", file);
			  }

				$.ajax({
					type: 'POST',
					url: '@Url.Action("UploadImage", "Advertisments")',
					dataType: 'json',
					data: formData,
					contentType: false,
					processData: false,
					success: function (response) {
						$("#ImageUrl5").val(response.image);
					   $("#SelectedImage5").attr("src", response.image);
					},
					error: function () {
						alert("FAIL");
					}
				})
				//.done(function (response) {

				//        alert(response.ImageURL)
				//       // $("#ImageUrl").val(response.ImageURL);
				//      //  $("#SelectedImage").attr("src", response.ImageURL);

				// })
				//.fail(function (XMLHttpRequest, textStatus, errorThrown) {
				//    	alert("FAIL");
				//});
		});

    </script>

	}